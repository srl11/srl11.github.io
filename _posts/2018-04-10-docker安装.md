---
layout: post
title: "Docker安装示例"
categories:
  - 软件安装
tags:
  - Docker
  - Virtualization
  - 软件安装
---

## Docker安装示例
### 安装docker依赖

	apt-get install \
	    apt-transport-https \
	    ca-certificates \
	    curl \
	    software-properties-common

### 添加Docker官方GPG密钥

	curl -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add -

### 设置stable稳定的仓库(stable稳定版每季度发布一次，Edge版每月一次)

	 add-apt-repository \
	        "deb [arch=amd64] https://download.docker.com/linux/ubuntu \
	        $(lsb_release -cs) \
	        stable"
### 更新apt包，并安装Docker-ce
    apt-get update
    apt-get install docker-ce
至此完成docker-ce的安装


## 配置Docker加速器
将mirror的配置添加到docker daemon的启动参数中，使用阿里的源

	echo "DOCKER_OPTS=\"--registry-mirror=https://pee6w651.mirror.aliyuncs.com\"" | sudo tee -a /etc/default/docker
	service docker restart

## 启动一个docker容器示例

### 创建并运行 docker容器

	docker run -it -e DISPLAY=$DISPLAY -v /tmp/.X11-unix:/tmp/.X11-unix -v /home/sdn/simrp:/home/simrp --net=none --name s2 eclipse1.1

### 启动容器

	docker start host1
	docker exec -it host1 /bin/bash

### 建立容器间连接
将容器s1的eth1添加到br1上，并设置其ip为10.0.1.1/24

	pipework br1 -i eth1 s1 10.0.1.1/24